{% load staticfiles %}

<div class="form-group">
  <label for="exampleInputEmail1">Caption</label>
  <input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="SÃ­guenos">
  <small id="emailHelp" class="form-text text-muted"></small>
</div>

<hr/>

<link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
</link>

<div class="form-group">
  <div id="social_available_sink"></div>
</div>

<script type="text/text/javascript">
$(document).ready(function(){
    $('[data-toggle="tooltip"]').tooltip();
});
</script>

<script type="text/babel">

  class SocialLinkList extends React.Component{

    constructor(props){
      super(props)


      // Generate dummy item_list
      var item_list = []
      item_list.push({
        image: "{% static 'img/facebook.png' %}",
        place_holder: "facebook"
      })
      item_list.push({
        image: "{% static 'img/linkedin.png' %}",
        place_holder: "linkedin"
      })

      this.state = {
        item_list : item_list
      }

      console.log("item_list")
      console.log(item_list)

    }

    handle_delete(index){
      console.log("Handle delete")
      console.log(index)
      console.log(this.state)

      this.state.item_list.splice(index, 1);

      console.log(this.state.item_list)
      this.setState({item_list: this.state.item_list})


    }

    render(){
      var delete_style = {
        fontSize : 16,
        color: "#ff0000"
      }

      var handle_delete = this.handle_delete.bind(this)
      return (
        <div  className="form-group container" >
          {
            this.state.item_list.map(function(item, index){
                return (
                <div className="row mb-2" key={index}>
                  <div className="col-1">
                    <img alt="Linkedin" src={item.image} width="24px"></img>
                  </div>
                  <div className="col-10">
                    <input className="form-control" type="email" placeholder={item.placeholder} id="skype-input"></input>
                  </div>
                  <div className="col-1">
                    <a href="#" onClick={() => handle_delete(index)}>
                      <i className="fa fa-close" style={delete_style} />
                    </a>
                  </div>
                </div>
                );
            })
          }
        </div>
      )
    }

  }

  class SocialAvailableLink extends React.Component {
    onClick(){
      console.log("clicked")
    }

    render() {

      var imgStyle = {
        marginRight: 5
      };

      return (
        <a className="social-icon"  href="javascript:void(0)"
          data-toggle="tooltip"
          data-placement="top"
          title={this.props.title}
          style={imgStyle}
          onClick={this.onClick}>
          <img alt="Linkedin" src={this.props.src} width="24px"></img>
        </a>
      )
    }
  }

  class SocialLinkAvailableList extends React.Component {

    render() {
      return (
        <div className="form-group">

          <SocialAvailableLink src="{% static 'img/facebook.png' %}" title="Facebook"/>
          <SocialAvailableLink src="{% static 'img/linkedin.png' %}" title="Linkedin"/>
          <SocialAvailableLink src="{% static 'img/instagram.png' %}" title="Instagram"/>
          <SocialAvailableLink src="{% static 'img/googleplus.png' %}" title="Googleplus"/>
          <SocialAvailableLink src="{% static 'img/youtube.png' %}" title="Youtube"/>
          <SocialAvailableLink src="{% static 'img/behance.png' %}" title="Behance"/>
          <SocialAvailableLink src="{% static 'img/vimeo.png' %}" title="Vimeo"/>
          <SocialAvailableLink src="{% static 'img/pinterest.png' %}" title="Pinterest"/>
          <SocialAvailableLink src="{% static 'img/dribble.png' %}" title="Dribble"/>
          <SocialAvailableLink src="{% static 'img/github.png' %}" title="GitHub"/>
          <SocialAvailableLink src="{% static 'img/stackoverflow.png' %}" title="StackOverflow"/>
          <SocialAvailableLink src="{% static 'img/medium.png' %}" title="Medium"/>
          <SocialAvailableLink src="{% static 'img/flickr.png' %}" title="Flickr"/>
          <SocialAvailableLink src="{% static 'img/wordpress.png' %}" title="Wordpress"/>
          <label for="exampleInputEmail1" className="mb-2">Agregar links</label>
          <div className="row">
          <SocialLinkList />
          </div>
        </div>
      )
    }
  }

  // Render Items
  ReactDOM.render( <SocialLinkAvailableList />, document.getElementById('social_available_sink'));
  //ReactDOM.render( <SocialLinkList />, document.getElementById('social_sink'));
</script>
